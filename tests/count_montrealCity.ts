const h3 = require("h3-js");

interface getCountPerHexaSyncMockResponse {
  h3resolution: number,
  h3indices: {[key: string]: number}
}

/*export const countPerHexa = {
  h3resolution: 6,
  h3indices: {
      "862baa447ffffff": 1,
      "862baa457ffffff": 2,
      "862baa45fffffff": 3,
      "862baa477ffffff": 4,
      "862baa4cfffffff": 5,
      "862baa4efffffff": 6,
      "862baa55fffffff": 7
  }
}*/

export const getCountPerHexaSyncMock = (endpoint: string, h3resolution: number, h3indices: [String]) : getCountPerHexaSyncMockResponse => {
  console.debug("Call to endpoint: " + endpoint);
  
  var hexas = {};
  for (var i=0; i < h3indices.length; i++) {
    var index = h3indices[i] as string;
    hexas[index] = 0;
  }

  for (var i=0; i < pointsInMontreal.length; i++) {
    var latLng = pointsInMontreal[i];
    var index : string = h3.geoToH3(latLng[0], latLng[1], h3resolution);
    if (!h3indices.includes(index))
      continue;

    hexas[index] = hexas[index] + 1;
  }
  var resp = {h3resolution: h3resolution, h3indices: hexas};
  return resp;
}


const pointsInMontreal = [
  [ 45.77770353770115, -74.12654632260943 ],
  [ 45.74046688178447, -73.76704528690118 ],
  [ 45.13673411195011, -74.1831448238064 ],
  [ 45.346562842903175, -74.13940503052305 ],
  [ 45.38597511608125, -73.86224616462938 ],
  [ 45.16800268284875, -73.32628274399936 ],
  [ 45.328793544270326, -73.93318059081402 ],
  [ 45.832227692011294, -73.68321256189697 ],
  [ 45.54255345825098, -73.13770613703001 ],
  [ 45.573940472958334, -73.81881075968835 ],
  [ 45.58983896800471, -73.35971214038021 ],
  [ 45.41494741933333, -73.46829018367536 ],
  [ 45.20685014361379, -73.77403918559027 ],
  [ 45.52102467793103, -73.76346444648233 ],
  [ 45.32446693991897, -74.241589281713 ],
  [ 45.828989942871516, -73.55666318063963 ],
  [ 45.24832533408157, -74.20329830789655 ],
  [ 45.82435781034591, -73.92194150676012 ],
  [ 45.681193029640035, -73.05080840042895 ],
  [ 45.56325249319976, -74.0073726952681 ],
  [ 45.54552864638406, -74.04347806806021 ],
  [ 45.420164719158464, -73.19177766616114 ],
  [ 45.73967202389525, -72.96591305756111 ],
  [ 45.82246960662863, -73.71755246922075 ],
  [ 45.444789074930995, -73.80734531738298 ],
  [ 45.50597964971591, -72.85914187226135 ],
  [ 45.187647355558994, -72.95394080774389 ],
  [ 45.45397003407727, -73.18983138767912 ],
  [ 45.59690600609429, -74.21851161922234 ],
  [ 45.277642911804705, -73.11520333612683 ],
  [ 45.30162797397209, -72.96849496513491 ],
  [ 45.39724000086454, -73.46590718503415 ],
  [ 45.7771461016218, -73.43321897669907 ],
  [ 45.64735881403846, -73.84902662670693 ],
  [ 45.49286065177139, -73.00084765868104 ],
  [ 45.56872693916558, -74.1254409583657 ],
  [ 45.145434685169114, -74.0755291271946 ],
  [ 45.239215359951515, -74.06049999846421 ],
  [ 45.30279272500177, -73.64042981454342 ],
  [ 45.699228923470734, -73.27883281352734 ],
  [ 45.570385449002856, -73.28571224692942 ],
  [ 45.368455122625925, -73.20693013580707 ],
  [ 45.420215483284, -73.2667069111469 ],
  [ 45.34778219893648, -73.2685598052072 ],
  [ 45.56211522484436, -73.16352218677558 ],
  [ 45.6291341681782, -73.14851585989615 ],
  [ 45.43417198379328, -73.6132657773834 ],
  [ 45.81921301611882, -74.24272262748379 ],
  [ 45.76033441425366, -73.09388291284029 ],
  [ 45.12351605249809, -73.92773148275991 ],
  [ 45.31015603147392, -73.86226852902843 ],
  [ 45.355347057315115, -72.9281910648441 ],
  [ 45.52032387655697, -73.72780347216919 ],
  [ 45.35645380632274, -72.89758557710189 ],
  [ 45.242965634015505, -73.57090996297974 ],
  [ 45.24325984915519, -74.2334411403236 ],
  [ 45.45140394135081, -73.16380088916613 ],
  [ 45.15070472937564, -73.3711644943378 ],
  [ 45.226025059899754, -74.10872761096515 ],
  [ 45.61825808929142, -73.97123421917428 ],
  [ 45.219824834636185, -73.03183163210097 ],
  [ 45.563107541304525, -73.21965247206698 ],
  [ 45.19875733093947, -74.07392983697346 ],
  [ 45.23891773893677, -73.81242088055059 ],
  [ 45.52901367495735, -73.6016041592542 ],
  [ 45.19012031995353, -74.22433481204075 ],
  [ 45.80187767384794, -73.82000217407035 ],
  [ 45.15272493231153, -73.85400951420567 ],
  [ 45.29697337489136, -73.363127045524 ],
  [ 45.35107437129585, -73.72296716015332 ],
  [ 45.18540071005527, -74.11657834118333 ],
  [ 45.39175189605107, -74.09705491921696 ],
  [ 45.28166489606093, -73.56931813191795 ],
  [ 45.21327190990433, -73.38470018094814 ],
  [ 45.69481578789337, -73.35376236636174 ],
  [ 45.1893189963968, -73.29436361964969 ],
  [ 45.49817994541819, -73.91650473242358 ],
  [ 45.79266546110266, -73.71499024343451 ],
  [ 45.1275864642647, -73.84890060746712 ],
  [ 45.82681479461982, -73.5617602927783 ],
  [ 45.61058728925394, -73.16628549870993 ],
  [ 45.81767778366065, -73.41290972315635 ],
  [ 45.376264391777156, -74.2262868789022 ],
  [ 45.1466022121371, -74.20427611019966 ],
  [ 45.35232820684073, -73.01032727829404 ],
  [ 45.280433817346875, -73.19869392405131 ],
  [ 45.20625689670532, -73.98870713615645 ],
  [ 45.47775938887743, -73.38962939610413 ],
  [ 45.57360906801301, -72.96574989195584 ],
  [ 45.73055012991918, -73.80887022815152 ],
  [ 45.49143209373183, -74.25136073557664 ],
  [ 45.11550241130419, -73.08607105470658 ],
  [ 45.21611369223539, -73.32978653949027 ],
  [ 45.17801334334725, -74.05390874360316 ],
  [ 45.23514305508075, -74.12043909638012 ],
  [ 45.78406917674066, -73.5719072351852 ],
  [ 45.2022621315287, -73.09656230038415 ],
  [ 45.12840607523649, -74.16803507138964 ],
  [ 45.55676244534583, -74.08860120670852 ],
  [ 45.21869592691573, -73.73949514619913 ]
];